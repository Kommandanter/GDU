focus_tree = {
	id = freefrench_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = FRF
		}
	}

	default = no


	###FREE FRANCE PART

	focus = {
		id = FRA_france_libre
		icon = GFX_focus_france_libre
		x = 6
		y = 0
		cost = 3

		available_if_capitulated = yes

		available = {
			OR = { 
				has_global_flag = FRA_evacuated1  
				date > 1942.1.1 
			}
		}

		completion_reward = {	
			add_political_power = 150
			custom_effect_tooltip = FRF_france_libre 				
			if = { 
				limit = {
					has_global_flag = FRA_evacuated1 
				}
				add_offsite_building = { type = industrial_complex level = 1 }								
			}			
			if = { 
				limit = {
					has_global_flag = FRA_evacuated2 
				}
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated3 
				}
				add_offsite_building = { type = industrial_complex level = 1 }								
			}	
			if = { 
				limit = {
					has_global_flag = FRA_evacuated1 
				}
				add_offsite_building = { type = arms_factory level = 1 }								
			}			
			if = { 
				limit = {
					has_global_flag = FRA_evacuated2 
				}
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated3 
				}
				add_offsite_building = { type = arms_factory level = 1 }								
			}	
			if = { 
				limit = {
					has_global_flag = FRA_evacuated1 
				}
				add_offsite_building = { type = dockyard level = 1 }								
			}			
			if = { 
				limit = {
					has_global_flag = FRA_evacuated3 
				}
				add_offsite_building = { type = dockyard level = 1 }								
			}			
		}
	}

	focus = {
		id = FRA_sway_west_africa
		icon = GFX_france_three
		prerequisite = { focus = FRA_france_libre }
		x = 8
		y = 1
		cost = 5
		
		available = { 
			EFR = { exists = yes } 
		}
		
		available_if_capitulated = yes

		completion_reward = {
			country_event = { days = 1 id = free_france.2 }
			custom_effect_tooltip = west_africa_sway_tt
		}
	}

	focus = {
		id = FRA_revive_naval_construction
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = FRA_gold_reserve }
		x = 4
		y = 2
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = FRF_revive_naval_construction 				
		    add_ideas = free_french_fleet
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 100
				producer = FRA
			}
			
			if = { 
				limit = {
					has_global_flag = FRA_evacuated2 
				}
				add_offsite_building = { type = dockyard level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated3 
				}
				add_offsite_building = { type = dockyard level = 1 }								
			}			
			if = { 
				limit = {
					has_global_flag = FRA_evacuated4 
				}
				add_offsite_building = { type = dockyard level = 1 }								
			}	
			if = { 
				limit = {
					has_global_flag = FRA_evacuated8 
				}
				add_offsite_building = { type = dockyard level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated10 
				}
				add_offsite_building = { type = dockyard level = 1 }								
			}				
		}
	}

	focus = {
		id = FRA_revive_civilian_construction
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = FRA_gold_reserve }
		x = 6
		y = 2
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = FRF_revive_civilian_construction 
			if = { 
				limit = {
					has_global_flag = FRA_evacuated1 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }				
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated2 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated3 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated4 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated5 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated6 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated7 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated8 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated9 
				} 
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated10 
				}
				add_offsite_building = { type = industrial_complex level = 1 }								
			}
		}
	}

	focus = {
		id = FRA_gold_reserve
		icon = GFX_focus_usa_reestablish_the_gold_standard
		prerequisite = { focus = FRA_france_libre }
        prerequisite = { focus = FRA_sway_west_africa }
		x = 4
		y = 1.5
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_FREE_gold_reserves
		}
	}
	
	focus = {
		id = FRA_rebuild_military_production
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = FRA_gold_reserve }
		x = 2
		y = 2
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = FRF_rebuild_military_production 		
			if = { 
				limit = {
					has_global_flag = FRA_evacuated1 
				} 
				add_offsite_building = { type = arms_factory level = 1 }				
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated2 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated3 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated4 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated5 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated6 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated7 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated8 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated9 
				} 
				add_offsite_building = { type = arms_factory level = 1 }								
			}
			if = { 
				limit = {
					has_global_flag = FRA_evacuated10 
				}
				add_offsite_building = { type = arms_factory level = 1 }								
			}
		}
	}
	
	focus = {
		id = FRA_sway_syria
		icon = GFX_france_nine
		prerequisite = { focus = FRA_take_Manda }
		x = 6
		y = 4
		cost = 5

		available_if_capitulated = yes
		
		bypass = { 
		 GER = {  controls_state = 554 } 
		}

		completion_reward = {
			country_event = { days = 1 id = free_france.5 }
			custom_effect_tooltip = syria_sway_tt
		}
	}
	
	focus = {
		id = FRA_take_Manda
		icon = GFX_france_one
		prerequisite = { focus = FRA_defend_dutch_american_colonies }
		x = 8
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			country_event = { days = 1 id = free_france.12 }
			custom_effect_tooltip = man_sway_tt
		}
	}

	focus = {
		id = FRA_develop_our_resources
		icon = GFX_goal_generic_construction2
		prerequisite = {
			focus = FRA_rebuild_military_production
			focus = FRA_revive_civilian_construction
			focus = FRA_revive_naval_construction
		}
		x = 3
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			539 = {
				add_resource = {
					type = steel
					amount = 30
				}
				add_resource = {
					type = tungsten
					amount = 20
				}
				add_resource = {
					type = rubber
					amount = 8
				}
			}
		}
	}
	focus = {
		id = FRA_defend_dutch_american_colonies
		icon = GFX_france_two
		prerequisite = { focus = FRA_sway_west_africa }
		x = 8
		y = 2
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			country_event = { days = 1 id = free_france.8 }
			custom_effect_tooltip = organize_the_resistance_tt
		}
	}

	focus = {
		id = FRA_reform_our_doctrine
		icon = GFX_france_six
		prerequisite = { focus = FRA_france_libre }
		x = 11
		y = 1
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_army_reform
				bonus = 1.0
				uses = 3
				category = land_doctrine
			}

		}
	}

	focus = {
		id = FRA_unleash_the_resistance_2
		icon = GFX_france_four
		prerequisite = { focus = FRA_take_Manda }
		x = 8
		y = 4
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			country_event = { days = 1 id = pfu.32 }
			custom_effect_tooltip = unleash_the_resistance_2_tt
		}
	}

	focus = {
		id = FRA_reequip_our_forces
		icon = GFX_france_seven
		prerequisite = { focus = FRA_reform_our_doctrine }
		x = 11
		y = 2
		cost = 5
 
		available_if_capitulated = yes

		completion_reward = {
		    add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = FRA }
		    add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 600 producer = FRA }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 300 producer = FRA }
			add_equipment_to_stockpile = { type = anti_air_equipment_1 amount = 300 producer = FRA }
			add_equipment_to_stockpile = { type = anti_tank_equipment_1  amount = 300 producer = FRA }
			add_equipment_to_stockpile = { type = motorized_equipment amount = 150 producer = FRA }
	    }
	}

	
	focus = {
		id = FRA_modernize_our_equipment
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = FRA_colonial_recruitment }
		x = 10
		y = 4
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = FRA_artillery_focus
				bonus = 1.00 
				uses = 1
				technology = tech_logistics_company3
				technology = tech_logistics_company4
			}
			add_tech_bonus = {
				name = FRA_artillery_focus
				bonus = 1.00 
				uses = 1
				category = infantry_weapons
			}
		}
	}
	focus = {
		id = FRA_colonial_recruitment
		icon = GFX_france_eight
		prerequisite = { focus = FRA_reequip_our_forces }
		x = 11
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_FREE_colonial_manpower
		}
	}
	focus = {
		id = FRA_modernize_our_armor_force
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = FRA_colonial_recruitment }
		x = 12
		y = 4
		cost = 5

		available_if_capitulated = yes
	
		completion_reward = {
			add_tech_bonus = {
				name = FRA_armor
				bonus = 1.00 
				ahead_reduction = 0.5 
				uses = 1
				category = armor
			}
		}
	}
	focus = {
		id = FRA_viva_la_france
		icon = GFX_france_five
		prerequisite = { focus = FRA_unleash_the_resistance_2 }
		x = 8
		y = 5
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_FREE_viva_la_france
		}
	}
	focus = {
		id = FRA_research_efforts
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = {
			focus = FRA_rebuild_military_production
			focus = FRA_revive_civilian_construction
			focus = FRA_revive_naval_construction
		}
		x = 5
		y = 3
		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = FRA_FREE_research_efforts
		}
	}
	focus = {
		id = FRA_air_squadron
		icon = GFX_goal_generic_air_fighter
		prerequisite = { 
		   focus = FRA_modernize_our_equipment 
		   focus = FRA_modernize_our_armor_force
		}
		x = 11
		y = 5

		cost = 2

        available_if_capitulated = yes
		
		available = {
				SOV = { has_war_with = GER }
            }
 
		completion_reward = {
			custom_effect_tooltip = FRA_fighters
			hidden_effect = { set_technology = { fighter2 = 1 } }
			SOV = { add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 100 producer = FRA } }
		}
	}
	focus = {
		id = FRA_refinery
		icon = GFX_goal_generic_army_motorized
		prerequisite = {
			focus = FRA_research_efforts
			focus = FRA_develop_our_resources
		}
		x = 4
		y = 4
		cost = 5

		available_if_capitulated = yes

		available = { 
			has_war_with = JAP
		}

		completion_reward = {
			add_ideas = FRA_rubber_refinery_program
			add_tech_bonus = {
				name = FRA_rubber
				bonus = 1
				uses = 1
				technology = rubber_processing
				technology = improved_rubber_processing
				technology = advanced_rubber_processing
				technology = modern_rubber_processing
			}
		}
	}
}
